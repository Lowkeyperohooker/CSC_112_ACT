<program>         ::= <statement_list>
<statement_list>  ::= <statement> | <statement> <statement_list>
<statement>       ::= <declaration> | <assignment> | <expression_stmt> | <unary_stmt> | ";"

<declaration>     ::= ("int" | "char") IDENTIFIER [ "=" <expression> ] ";"
<assignment>      ::= IDENTIFIER "=" <expression> ";"
<compound_assign> ::= IDENTIFIER <compound_op> <expression> ";"
<expression_stmt> ::= <expression> ";"
<unary_stmt>      ::= <unary_operator> IDENTIFIER ";" | IDENTIFIER <unary_operator> ";"

<expression>      ::= <additive_expression>
<additive_expression> ::= <multiplicative_expression> 
                         | <additive_expression> ("+" | "-") <multiplicative_expression>

<multiplicative_expression> ::= <postfix_expression>
                               | <multiplicative_expression> ("*" | "/") <postfix_expression>

<postfix_expression> ::= <primary_expression> 
                        | <postfix_expression> <unary_operator>

<primary_expression> ::= NUMBER
                       | IDENTIFIER
                       | "(" <expression> ")"
                       | <unary_operator> <primary_expression>

<unary_operator>    ::= "++" | "--" | "+" | "-"
<compound_op>       ::= "+=" | "-=" | "*=" | "/="


# Terminal Symbols (Tokens)
IDENTIFIER  ::= [a-zA-Z_][a-zA-Z0-9_]*
NUMBER      ::= [0-9]+ | [-+][0-9]+
COMMENT     ::= "//" [^\n]* | "/*" (. | \n)* "*/"
WHITESPACE  ::= [ \t\r\n]+

# Keywords
INT_KEYWORD    ::= "int"
CHAR_KEYWORD   ::= "char"

# Operators
PLUS          ::= "+"
MINUS         ::= "-"
MULTIPLY      ::= "*"
DIVIDE        ::= "/"
ASSIGN        ::= "="
INCREMENT     ::= "++"
DECREMENT     ::= "--"
PLUS_ASSIGN   ::= "+="
MINUS_ASSIGN  ::= "-="
MULTIPLY_ASSIGN ::= "*="
DIVIDE_ASSIGN ::= "/="

# Punctuation
SEMICOLON     ::= ";"
LEFT_PAREN    ::= "("
RIGHT_PAREN   ::= ")"
SINGLE_QUOTE  ::= "'"



# Semantic Constraints
<declaration>        ::= ("int" | "char") IDENTIFIER   # IDENTIFIER must not be previously declared
<assignment>         ::= IDENTIFIER "=" <expression>   # IDENTIFIER must be previously declared
<variable_use>       ::= IDENTIFIER                    # IDENTIFIER must be declared and initialized

<unary_stmt>         ::= <unary_operator> IDENTIFIER   # IDENTIFIER must be declared
                        | IDENTIFIER <unary_operator>   # IDENTIFIER must be declared

<compound_assign>    ::= IDENTIFIER <compound_op> <expression>  # IDENTIFIER must be declared



<program> ::= <statement_list>

<statement_list> ::= <statement> <statement_list>
                   | ε

<statement> ::= <declaration_statement>
              | <assignment_statement>
              | <expression_statement>
              | <unary_statement>
              | <compound_assignment_statement>
              | <empty_statement>

<declaration_statement> ::= <type_specifier> <declarator_list> ";"

<type_specifier> ::= "int" | "char"

<declarator_list> ::= <declarator> <declarator_tail>

<declarator_tail> ::= "," <declarator> <declarator_tail>
                    | ε

<declarator> ::= <identifier> <initializer_opt>

<initializer_opt> ::= "=" <expression>
                    | ε

<assignment_statement> ::= <identifier> "=" <assignment_rhs> ";"

<assignment_rhs> ::= <expression>
                   | <identifier> "=" <assignment_rhs>

<compound_assignment_statement> ::= <identifier> <compound_operator> <expression> ";"

<compound_operator> ::= "+=" | "-=" | "*=" | "/="

<expression_statement> ::= <expression> ";"

<unary_statement> ::= <unary_operator> <identifier> ";"
                    | <identifier> <unary_operator> ";"

<unary_operator> ::= "++" | "--"

<empty_statement> ::= ";"

<expression> ::= <additive_expression>

<additive_expression> ::= <multiplicative_expression> <additive_tail>

<additive_tail> ::= <additive_operator> <multiplicative_expression> <additive_tail>
                  | ε

<additive_operator> ::= "+" | "-"

<multiplicative_expression> ::= <unary_expression> <multiplicative_tail>

<multiplicative_tail> ::= <multiplicative_operator> <unary_expression> <multiplicative_tail>
                        | ε

<multiplicative_operator> ::= "*" | "/"

<unary_expression> ::= <unary_operator> <unary_expression>
                     | <postfix_expression>

<postfix_expression> ::= <primary_expression> <postfix_operator_opt>

<postfix_operator_opt> ::= <unary_operator>
                         | ε

<primary_expression> ::= <number>
                       | <character_literal>
                       | <identifier>
                       | "(" <expression> ")"

<number> ::= <digit> <digit_sequence_opt>

<digit_sequence_opt> ::= <digit> <digit_sequence_opt>
                       | ε

<character_literal> ::= "'" <character> "'"

<character> ::= <printable_character>
              | <escape_sequence>

<escape_sequence> ::= "\\" <escape_char>

<escape_char> ::= "n" | "t" | "r" | "0" | "\\" | "'"

<identifier> ::= <letter> <alphanumeric_sequence_opt>

<alphanumeric_sequence_opt> ::= <alphanumeric> <alphanumeric_sequence_opt>
                              | ε

<letter> ::= "a" | "b" | ... | "z" | "A" | "B" | ... | "Z" | "_"

<digit> ::= "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9"

<alphanumeric> ::= <letter> | <digit>

<printable_character> ::= /* any printable ASCII character except single quote and backslash */